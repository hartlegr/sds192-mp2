---
title: "Mini-Project 2"
author: "Grace Hartley, Amrita Acharya, Callie Slevin"
date: "2019-03-24"
output: 
  html_document:
    code_folding: show
---

```{r, message=FALSE}
library(tidyverse)


load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
#devtools::install_github("benmarwick/wordcountaddin")

``
 #Word count: `r wordcountaddin::word_count()'

```


```{r}
cand_contrib <- candidates%>% 
  left_join(contributions, "cand_id")
```

```{r}
cand_contrib%>%
  filter(cand_election_yr == 2012)%>% 
  filter(cand_ici== "I")%>%
  group_by(cand_id, cand_name)%>%
  summarize(total_cont = sum(transaction_amt))
  
  

```

```{r}
ron_kind <- candidates %>%
  filter(cand_name == "KIND, RON")
```

```{r}
library(Stat2Data)
tally(~transaction_type, data = cand_contrib)
```

```{r}
cand_contrib <- cand_contrib%>%
  filter(cand_election_yr == 2012)%>% 
  group_by(transaction_type)%>%
  mutate(for_cand = ifelse(transaction_type == "24K"|transaction_type ==  "24E", "forcan","agcan"))
```

```{r}
contrib_for <- cand_contrib %>%
  filter(for_cand == "forcan")

contrib_ag <- cand_contrib %>%
  filter(for_cand == "agcan")

boxplot <- ggplot(cand_contrib, aes(for_cand, log10(transaction_amt))) + geom_boxplot(color = "cornflowerblue")
boxplot
```

```{r}
contrib_forplot <- ggplot(contrib_for, aes(x = cand_ici, log10(transaction_amt))) + geom_boxplot()

contrib_forplot

contrib_foragplot <- ggplot(cand_contrib, aes(x = cand_ici, log10(transaction_amt))) + geom_boxplot() + facet_wrap(~for_cand) 

contrib_foragplot
```
